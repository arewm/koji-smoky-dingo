
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="English">
  <head>
    <meta charset="utf-8" />
    <title>Sifty Dingo Filtering Language &#8212; kojismokydingo 1.0.0 documentation</title>
    <link rel="stylesheet" href="../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Core API Reference" href="../kojismokydingo/" />
    <link rel="prev" title="ksd-filter-tags" href="../standalone/ksd-filter-tags/" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../kojismokydingo/" title="Core API Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../standalone/ksd-filter-tags/" title="ksd-filter-tags"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../">kojismokydingo 1.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="sifty-dingo-filtering-language">
<h1>Sifty Dingo Filtering Language<a class="headerlink" href="#sifty-dingo-filtering-language" title="Permalink to this headline">¶</a></h1>
<p>The <a class="reference internal" href="../kojismokydingo/sift/#module-kojismokydingo.sift" title="kojismokydingo.sift"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kojismokydingo.sift</span></code></a> package implements a minimal filtering
language tentatively named &quot;sifty dingo&quot;. The language is based on
predicates written as a sequence of s-expressions.</p>
<div class="section" id="language-example">
<h2>Language Example<a class="headerlink" href="#language-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(flag inactive (!status ACTIVE))
(flag old-guard (not (inactive?)) (joined-before 2000-01-01))
(flag noob (not (inactive?)) (joined-after 2020-01-01))
(!flagged noob old-guard inactive)
</pre></div>
</div>
<p>This example presumes three predicates have been created;
<code class="docutils literal notranslate"><span class="pre">joined-after</span></code>, <code class="docutils literal notranslate"><span class="pre">joined-before</span></code>, and <code class="docutils literal notranslate"><span class="pre">status</span></code>. Each of these
take a single argument at their initialization.</p>
<p>When a <code class="xref py py-obj docutils literal notranslate"><span class="pre">Sifter</span></code> is compiled from the above source, it will contain
four <code class="xref py py-obj docutils literal notranslate"><span class="pre">Sieve</span></code> rules. When that sifter instance is invoked on a set of
data, each of the four rules will be invoked in order. The first three
rules will set their relevant flags on any data entries which matched
their predicates. The fourth rule has no explicit flag, and so its
results would be implicitly flagged with &quot;default&quot;</p>
<p>Loosely translated, this example means:</p>
<blockquote>
<div><ul class="simple">
<li><p>flag as inactive anyone whose status is not ACTIVE</p></li>
<li><p>flag as old-guard anyone that isn't flagged inactive and whose
joined-before predicate is true for the value 2000-01-01</p></li>
<li><p>flag as a noob anyone that isn't flagged inactive and whose
joined-after predicate is true for the value 2020-10-01</p></li>
<li><p>flag as default anyone what doesn't have the noob, old-guard,
nor inactive flags</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="basic-syntax">
<h2>Basic Syntax<a class="headerlink" href="#basic-syntax" title="Permalink to this headline">¶</a></h2>
<p>The language is composed of a series of nested sieve predicates, each
with a symbol as its first element denoting the name of the
sieve. Subsequent elements are the arguments to the predicate.</p>
<div class="section" id="sieve-predicate">
<h3>Sieve Predicate<a class="headerlink" href="#sieve-predicate" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(foo)
(foo 1 two &quot;three&quot; /four/ |five|)
(bar x y)
(bar x y optional: True)
(and (foo 1) (bar 2))
(or (baz 3) (and (qux) (quux 4)))
</pre></div>
</div>
<p>A sieve predicate bears the form of an S-Expression, with opening and
closing parenthesis characters denoting the contents. The first
element identifies the name of the predicate.</p>
<p>Sieve predicates are not used to evalute to a value -- they are
True/False tests which are applied to the data which is fed to the
fully compiled sifter. Because of this, it is rare that they are
nested except in the case of the logical combining predicates.</p>
</div>
<div class="section" id="symbol">
<h3>Symbol<a class="headerlink" href="#symbol" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>foo
Tacos-and-Pizza
1.2.34
</pre></div>
</div>
<p>Symbols are unquoted alphanumerics. They are white-space terminated.
Symbols are used to resolve the class of a predicate when they are the
first element of a sieve. Symbols are also a valid matching type, and
they function similarly to a string. A symbol cannot be entirely
numeric -- it would instead be interpreted as a Number in that case.</p>
<p>Symbols with a leading dollar-sign are interpreted as variables, and
their value will be substituted from a sifter parameter at compile
time.</p>
<p>When used as arguments to a sieve predicate, symbols with a trailing
<code class="docutils literal notranslate"><span class="pre">:</span></code> character are treated as keyword markers. The value following a
keyword marker is used as the keyword's argument. They keyword and its
value form an option pair, which is fed into the sieve via its
<code class="xref py py-obj docutils literal notranslate"><span class="pre">set_options</span></code> method.</p>
</div>
<div class="section" id="number">
<h3>Number<a class="headerlink" href="#number" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>123
002
-1
</pre></div>
</div>
<p>Numbers are unquoted series of digits, with an optional leading
negative sign. They can be compared with both integer and string
values.</p>
</div>
<div class="section" id="symbol-group">
<h3>Symbol Group<a class="headerlink" href="#symbol-group" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>foo-{001..005}
{foo,bar}-001
{hello,goodbye}-{cruel,happy}-world
109{2,4,5}1
10{002..106..2}
</pre></div>
</div>
<p>A Symbol Group is an entity which represents a collection of symbols
based on some substitutions. Substitutions are bounded in matching
<code class="docutils literal notranslate"><span class="pre">'{'</span></code> and <code class="docutils literal notranslate"><span class="pre">'}'</span></code> characters. Substitutions may be either a
comma-separated list of values, or a double-dotted range. A Symbol
Group matches any string value that is represented by the product of
its substitutions.</p>
<p>If a Symbol Group is entirely numeric, it will match with rules
similar to Number.</p>
<p>If any part of a substitution is malformed, that substitution will be
treated as a single symbol value. If a Symbol Group contains only one
possible product, it will become a simple Symbol.</p>
</div>
<div class="section" id="string">
<h3>String<a class="headerlink" href="#string" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&quot;Foo bar&quot;
</pre></div>
</div>
<p>A string is quoted with matching <code class="docutils literal notranslate"><span class="pre">'&quot;'</span></code> characters. Normal escape
sequences are honored.</p>
<p>Strings may interpolate variables from the sifter at compile time
using Python's <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str.format" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str.format</span></code></a> markup rules.</p>
</div>
<div class="section" id="regex">
<h3>Regex<a class="headerlink" href="#regex" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/^Foo.*Bar$/
/^FOO.*BAR$/i
</pre></div>
</div>
<p>A Regex is quoted with matching <code class="docutils literal notranslate"><span class="pre">'/'</span></code> characters. Optional flags
can be appendes to the regex by specifying the characters immediately
after the closing <code class="docutils literal notranslate"><span class="pre">'/'</span></code></p>
</div>
<div class="section" id="glob">
<h3>Glob<a class="headerlink" href="#glob" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>|foo*|
|FOO*|i
</pre></div>
</div>
<p>A Glob is quoted with matching <code class="docutils literal notranslate"><span class="pre">'|'</span></code> characters. An optional
trailing <code class="docutils literal notranslate"><span class="pre">'i'</span></code> can be used to indicate the glob matching is
case-insensitive.</p>
</div>
<div class="section" id="item-path">
<h3>Item Path<a class="headerlink" href="#item-path" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.foo
.bar[].qux
[2::1].baz[{ping,pong}]
</pre></div>
</div>
<p>An item path is a way to select elements of the given data objects for
matching.</p>
<p>Item paths can be used as the first argument to the built-in <code class="docutils literal notranslate"><span class="pre">item</span></code>
predicate.</p>
<p>Using an item path as the first element in a sieve is also a shortcut
for invoking the <code class="docutils literal notranslate"><span class="pre">item</span></code> predicate. These are equivalent expressions:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">(.foo</span> <span class="pre">{100..200})</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(item</span> <span class="pre">.foo</span> <span class="pre">{100..200})</span></code></p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="core-sieves">
<h2>Core Sieves<a class="headerlink" href="#core-sieves" title="Permalink to this headline">¶</a></h2>
<p>The language supports three logical expressions; <code class="docutils literal notranslate"><span class="pre">and</span></code>, <code class="docutils literal notranslate"><span class="pre">or</span></code>, and
<code class="docutils literal notranslate"><span class="pre">not</span></code>. Each of these apply a logical constraint on top of other
expressions. The language also provides a way to set flags via tha
<code class="docutils literal notranslate"><span class="pre">flag</span></code> expression, and to check flags via the <code class="docutils literal notranslate"><span class="pre">flagged</span></code> predicate.
There final built-in predicate is <code class="docutils literal notranslate"><span class="pre">item</span></code> which is used to do value
comparisons against the data structures themselves.</p>
<div class="section" id="statement-flag">
<h3>Statement <code class="docutils literal notranslate"><span class="pre">flag</span></code><a class="headerlink" href="#statement-flag" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(flag NAME EXPR [EXPR...])
</pre></div>
</div>
<p>Acts like the <code class="docutils literal notranslate"><span class="pre">and</span></code> logical expression. In addition to passing its
matches, this expression will also set the given flag name on each
data item that matched all sub-expressions.</p>
</div>
<div class="section" id="logical-and">
<h3>Logical <code class="docutils literal notranslate"><span class="pre">and</span></code><a class="headerlink" href="#logical-and" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(and EXPR [EXPR...])
</pre></div>
</div>
<p>Matches data items which pass through all of the sub-expressions. Once
a data item fails to match, it will not be passed along to further
sub-expressions.</p>
</div>
<div class="section" id="logical-or">
<h3>Logical <code class="docutils literal notranslate"><span class="pre">or</span></code><a class="headerlink" href="#logical-or" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(or EXPR [EXPR...])
</pre></div>
</div>
<p>Matches data items which pass through any of the sub-expressions. Once
a data item has been matched, it will not be passed along to further
sub-expressions.</p>
</div>
<div class="section" id="logical-not">
<h3>Logical <code class="docutils literal notranslate"><span class="pre">not</span></code><a class="headerlink" href="#logical-not" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(not EXPR [EXPR...])
</pre></div>
</div>
<p>Matches data items which pass none of the sub-expressions. Once a data item
has been matched, it will not be passed along to further sub-expressions.</p>
<p>As a convenience, <code class="docutils literal notranslate"><span class="pre">!</span></code> is a synonym for <code class="docutils literal notranslate"><span class="pre">not</span></code>.</p>
<p>Any expression can be inverted by prefixing it with <code class="docutils literal notranslate"><span class="pre">!</span></code> or
<code class="docutils literal notranslate"><span class="pre">not-</span></code>. For example, all of these are equivalent expressions:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">(not</span> <span class="pre">(foo</span> <span class="pre">1))</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(not-foo</span> <span class="pre">1)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(!</span> <span class="pre">(foo</span> <span class="pre">1))</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(!foo</span> <span class="pre">1)</span></code></p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="predicate-flagged">
<h3>Predicate <code class="docutils literal notranslate"><span class="pre">flagged</span></code><a class="headerlink" href="#predicate-flagged" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(flagged NAME [NAME...])
</pre></div>
</div>
<p>Matches data items which have had any of the named flags applied to it
previously.</p>
<p>As a convenience, <code class="docutils literal notranslate"><span class="pre">?</span></code> is a synonym for <code class="docutils literal notranslate"><span class="pre">flagged</span></code>.</p>
<p>In addition, any flag can be used as its own predicate by appending a
<code class="docutils literal notranslate"><span class="pre">?</span></code> to its name. For example, the following are equivalent:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">(flagged</span> <span class="pre">awesome)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(?</span> <span class="pre">awesome)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(awesome?)</span></code></p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="predicate-item">
<h3>Predicate <code class="docutils literal notranslate"><span class="pre">item</span></code><a class="headerlink" href="#predicate-item" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(item PATH [VALUE...])
</pre></div>
</div>
<p>Resolves an <code class="xref py py-obj docutils literal notranslate"><span class="pre">ItemPath</span></code> against each data item. If any values are supplied as
an argument, then the predicate will pass any data items which has any path
element that matches to any of the values. If no values are supplied then
the path elements simply need to be present and non-null.</p>
<p>The item predicate may be specified implicitly by making the first element
of the sieve an ItemPath. For example, the following are equivalent:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">(item</span> <span class="pre">.foo[].bar</span> <span class="pre">{1..100})</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(.foo[].bar</span> <span class="pre">{1..100})</span></code></p></li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="build-sieves">
<h2>Build Sieves<a class="headerlink" href="#build-sieves" title="Permalink to this headline">¶</a></h2>
<p>To facilitate filtering sequences of koji build info dicts, there are
a number of available sieves provided in the
<a class="reference internal" href="../kojismokydingo/sift/builds/#module-kojismokydingo.sift.builds" title="kojismokydingo.sift.builds"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kojismokydingo.sift.builds</span></code></a> module.</p>
<p>A sifter instance with these and the core sieves available by default can be
created via <a class="reference internal" href="../kojismokydingo/sift/builds/#kojismokydingo.sift.builds.build_info_sifter" title="kojismokydingo.sift.builds.build_info_sifter"><code class="xref py py-func docutils literal notranslate"><span class="pre">kojismokydingo.sift.builds.build_info_sifter()</span></code></a></p>
<div class="section" id="build-evr-comparison-predicates">
<h3>Build EVR Comparison Predicates<a class="headerlink" href="#build-evr-comparison-predicates" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(OP VER)
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">OP</span></code> can be any of the following comparison operators:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">==</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!=</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&gt;=</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">VER</span></code> can be in any of the following forms:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">EPOCH:VERSION</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EPOCH:VERSION-RELEASE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VERSION</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VERSION-RELEASE</span></code></p></li>
</ul>
</div></blockquote>
<p>If <code class="docutils literal notranslate"><span class="pre">EPOCH</span></code> is omitted, it is presumed to be <code class="docutils literal notranslate"><span class="pre">0</span></code>.
If <code class="docutils literal notranslate"><span class="pre">RELEASE</span></code> is omitted, it is presumed to be equivalent.</p>
<p>These predicates filter by using RPM EVR comparison rules against the
epoch, version, and release values of the builds.</p>
</div>
<div class="section" id="build-predicate-cg-imported">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">cg-imported</span></code><a class="headerlink" href="#build-predicate-cg-imported" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(cg-imported [CGNAME...])
</pre></div>
</div>
<p>Filters for builds which were produced by a koji Content Generator via
the <code class="docutils literal notranslate"><span class="pre">CGImport</span></code> API. Such builds would have no task ID associated
with them.</p>
<p>If any optional <code class="docutils literal notranslate"><span class="pre">CGNAME</span></code> matchers are supplied, then filters for
builds which are produced by matching content generators only.</p>
</div>
<div class="section" id="build-predicate-compare-latest-id">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">compare-latest-id</span></code><a class="headerlink" href="#build-predicate-compare-latest-id" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(compare-latest-id OP TAG)
</pre></div>
</div>
<p>Filters for builds which have an ID that compares to the latest build
of the same package name in the given tag. If there is no matching
build in the tag, then the filtered build will not be included.</p>
<p><code class="docutils literal notranslate"><span class="pre">OP</span></code> can be any of the following comparison operators: <code class="docutils literal notranslate"><span class="pre">==</span></code>,
<code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">TAG</span></code> may be specified by either name or ID, but not by pattern.
<code class="docutils literal notranslate"><span class="pre">TAG</span></code> will be validated when the sieve is first run -- this may
result in a <a class="reference internal" href="../kojismokydingo/#kojismokydingo.NoSuchTag" title="kojismokydingo.NoSuchTag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kojismokydingo.NoSuchTag</span></code></a> exception being raised.</p>
</div>
<div class="section" id="build-predicate-compare-latest-nvr">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">compare-latest-nvr</span></code><a class="headerlink" href="#build-predicate-compare-latest-nvr" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(compare-latest-nvr OP TAG)
</pre></div>
</div>
<p>Filters for builds which have an NVR that compares to the latest build
of the same package name in the given tag. If there is no matching
build in the tag, then the filtered build will not be included.</p>
<p><code class="docutils literal notranslate"><span class="pre">OP</span></code> can be any of the following comparison operators: <code class="docutils literal notranslate"><span class="pre">==</span></code>,
<code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">TAG</span></code> may be specified by either name or ID, but not by pattern.
<code class="docutils literal notranslate"><span class="pre">TAG</span></code> will be validated when the sieve is first run -- this may
result in a <a class="reference internal" href="../kojismokydingo/#kojismokydingo.NoSuchTag" title="kojismokydingo.NoSuchTag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kojismokydingo.NoSuchTag</span></code></a> exception being raised.</p>
</div>
<div class="section" id="build-predicate-epoch">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">epoch</span></code><a class="headerlink" href="#build-predicate-epoch" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(epoch EPOCH [EPOCH...])
</pre></div>
</div>
<p>Filters for builds whose epoch value matches any of the given <code class="docutils literal notranslate"><span class="pre">EPOCH</span></code>
patterns.</p>
</div>
<div class="section" id="build-predicate-imported">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">imported</span></code><a class="headerlink" href="#build-predicate-imported" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(imported)
</pre></div>
</div>
<p>Filters for builds which have no task ID. These builds could be either raw
imports or from a content generator.</p>
</div>
<div class="section" id="build-predicate-inherited">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">inherited</span></code><a class="headerlink" href="#build-predicate-inherited" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(inherited TAG [TAG...])
</pre></div>
</div>
<p>Filters for builds which are tagged in any of the given <code class="docutils literal notranslate"><span class="pre">TAG</span></code> or
their parents.</p>
<p><code class="docutils literal notranslate"><span class="pre">TAG</span></code> may be specified by either name or ID, but not by pattern.
<code class="docutils literal notranslate"><span class="pre">TAG</span></code> will be validated when the sieve is first run -- this may
result in a <a class="reference internal" href="../kojismokydingo/#kojismokydingo.NoSuchTag" title="kojismokydingo.NoSuchTag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kojismokydingo.NoSuchTag</span></code></a> exception being raised.</p>
</div>
<div class="section" id="build-predicate-latest">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">latest</span></code><a class="headerlink" href="#build-predicate-latest" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(latest TAG [TAG...])
</pre></div>
</div>
<p>Filters for builds which are the latest of their package name in any
of the given <code class="docutils literal notranslate"><span class="pre">TAG</span></code>, following inheritance and honoring package
listings and blocks.</p>
<p><code class="docutils literal notranslate"><span class="pre">TAG</span></code> may be specified by either name or ID, but not by pattern.
<code class="docutils literal notranslate"><span class="pre">TAG</span></code> will be validated when the sieve is first run -- this may
result in a <a class="reference internal" href="../kojismokydingo/#kojismokydingo.NoSuchTag" title="kojismokydingo.NoSuchTag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kojismokydingo.NoSuchTag</span></code></a> exception being raised.</p>
</div>
<div class="section" id="build-predicate-latest-maven">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">latest-maven</span></code><a class="headerlink" href="#build-predicate-latest-maven" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(latest-maven TAG [TAG...])
</pre></div>
</div>
<p>Filters for maven builds which are the latest of their GAV (group,
artifact, version) in any of the given <code class="docutils literal notranslate"><span class="pre">TAG</span></code>, following inheritance
and honoring package listings and blocks.</p>
<p>This differs from the <code class="docutils literal notranslate"><span class="pre">latest</span></code> predicate in that multiple copies of
the same package may be considered the latest using this method. The
uniqueness is by the GAV rather than the package name.</p>
<p><code class="docutils literal notranslate"><span class="pre">TAG</span></code> may be specified by either name or ID, but not by pattern.
<code class="docutils literal notranslate"><span class="pre">TAG</span></code> will be validated when the sieve is first run -- this may
result in a <a class="reference internal" href="../kojismokydingo/#kojismokydingo.NoSuchTag" title="kojismokydingo.NoSuchTag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kojismokydingo.NoSuchTag</span></code></a> exception being raised.</p>
</div>
<div class="section" id="build-predicate-name">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">name</span></code><a class="headerlink" href="#build-predicate-name" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(name NAME [NAME...])
</pre></div>
</div>
<p>Filters for builds which have a name matching any of the given
<code class="docutils literal notranslate"><span class="pre">NAME</span></code> patterns.</p>
</div>
<div class="section" id="build-predicate-nvr">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">nvr</span></code><a class="headerlink" href="#build-predicate-nvr" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(nvr NVR [NVR...])
</pre></div>
</div>
<p>Filters for builds which have an NVR matching any of the given <code class="docutils literal notranslate"><span class="pre">NVR</span></code>
(name-version-release) patterns.</p>
</div>
<div class="section" id="build-predicate-owner">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">owner</span></code><a class="headerlink" href="#build-predicate-owner" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(owner USER [USER...])
</pre></div>
</div>
<p>Filters for builds whose owner's name or ID matches any of the given
<code class="docutils literal notranslate"><span class="pre">USER</span></code>. <code class="docutils literal notranslate"><span class="pre">USER</span></code> may be specified by either name or ID, but not by
pattern. <code class="docutils literal notranslate"><span class="pre">USER</span></code> will be validated when the sieve is first run --
this may result in a <a class="reference internal" href="../kojismokydingo/#kojismokydingo.NoSuchUser" title="kojismokydingo.NoSuchUser"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kojismokydingo.NoSuchUser</span></code></a> exception being
raised.</p>
</div>
<div class="section" id="build-predicate-pkg-allowed">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">pkg-allowed</span></code><a class="headerlink" href="#build-predicate-pkg-allowed" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pkg-allowed TAG [TAG...])
</pre></div>
</div>
<p>Filters for builds whose package name is allowed in any of the given
tags, honoring inheritance.</p>
<p><code class="docutils literal notranslate"><span class="pre">TAG</span></code> may be specified by either name or ID, but not by pattern.
<code class="docutils literal notranslate"><span class="pre">TAG</span></code> will be validated when the sieve is first run -- this may
result in a <a class="reference internal" href="../kojismokydingo/#kojismokydingo.NoSuchTag" title="kojismokydingo.NoSuchTag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kojismokydingo.NoSuchTag</span></code></a> exception being raised.</p>
</div>
<div class="section" id="build-predicate-pkg-blocked">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">pkg-blocked</span></code><a class="headerlink" href="#build-predicate-pkg-blocked" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pkg-blocked TAG [TAG...])
</pre></div>
</div>
<p>Filters for builds whose package name is explicitly blocked in any of
the given tags, honoring inheritance.</p>
<p><code class="docutils literal notranslate"><span class="pre">TAG</span></code> may be specified by either name or ID, but not by pattern.
<code class="docutils literal notranslate"><span class="pre">TAG</span></code> will be validated when the sieve is first run -- this may
result in a <a class="reference internal" href="../kojismokydingo/#kojismokydingo.NoSuchTag" title="kojismokydingo.NoSuchTag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kojismokydingo.NoSuchTag</span></code></a> exception being raised.</p>
</div>
<div class="section" id="build-predicate-pkg-unlisted">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">pkg-unlisted</span></code><a class="headerlink" href="#build-predicate-pkg-unlisted" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pkg-unlisted TAG [TAG...])
</pre></div>
</div>
<p>Filters for builds which have their package name unlisted (neither
allowed nor blocked) in any of the given tags, honoring inheritance.</p>
<p><code class="docutils literal notranslate"><span class="pre">TAG</span></code> may be specified by either name or ID, but not by pattern.
<code class="docutils literal notranslate"><span class="pre">TAG</span></code> will be validated when the sieve is first run -- this may
result in a <a class="reference internal" href="../kojismokydingo/#kojismokydingo.NoSuchTag" title="kojismokydingo.NoSuchTag"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kojismokydingo.NoSuchTag</span></code></a> exception being raised.</p>
</div>
<div class="section" id="build-predicate-release">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">release</span></code><a class="headerlink" href="#build-predicate-release" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(release REL [REL...])
</pre></div>
</div>
<p>Filters for builds which have a release matching any of the given
<code class="docutils literal notranslate"><span class="pre">REL</span></code> patterns.</p>
</div>
<div class="section" id="build-predicate-signed">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">signed</span></code><a class="headerlink" href="#build-predicate-signed" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(signed [SIGKEY...])
</pre></div>
</div>
<p>Filters for builds which have an RPM archive that has been signed with
a key matching any of the given <code class="docutils literal notranslate"><span class="pre">SIGKEY</span></code> patterns.</p>
<p>If no <code class="docutils literal notranslate"><span class="pre">SIGKEY</span></code> patterns are supplied, then filters for builds which
have an RPM archive that has been signed with any key.</p>
</div>
<div class="section" id="build-predicate-state">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">state</span></code><a class="headerlink" href="#build-predicate-state" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(state STATE [STATE...])
</pre></div>
</div>
<p>Filters for builds which are in one of the given build states. Each
<code class="docutils literal notranslate"><span class="pre">STATE</span></code> may be specified as either a name or a state ID, but each
must be a valid koji build state.</p>
<p>Valid states are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> <code class="docutils literal notranslate"><span class="pre">BUILDING</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code> <code class="docutils literal notranslate"><span class="pre">COMPLETE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">3</span></code> <code class="docutils literal notranslate"><span class="pre">DELETED</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">4</span></code> <code class="docutils literal notranslate"><span class="pre">FAILED</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">5</span></code> <code class="docutils literal notranslate"><span class="pre">CANCELED</span></code></p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="build-predicate-tagged">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">tagged</span></code><a class="headerlink" href="#build-predicate-tagged" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(tagged [TAG...])
</pre></div>
</div>
<p>Filters for builds which are tagged with a tag having a name or ID
matching any of the given <code class="docutils literal notranslate"><span class="pre">TAG</span></code> patterns.</p>
<p>If no <code class="docutils literal notranslate"><span class="pre">TAG</span></code> patterns are specified, then filters for builds which
have any tags at all.</p>
</div>
<div class="section" id="build-predicate-type">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">type</span></code><a class="headerlink" href="#build-predicate-type" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(type BTYPE [BTYPE...])
</pre></div>
</div>
<p>Filters for builds which have archives of the given build type. Normal
build types are rpm, maven, image, and win. Koji instances may support
plugins which extend the available build types beyond these.</p>
</div>
<div class="section" id="build-predicate-version">
<h3>Build Predicate <code class="docutils literal notranslate"><span class="pre">version</span></code><a class="headerlink" href="#build-predicate-version" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(version VER [VER...])
</pre></div>
</div>
<p>Filters for builds which have a version matching any of the given
<code class="docutils literal notranslate"><span class="pre">VER</span></code> patterns.</p>
</div>
<div class="section" id="add-on-build-predicates">
<h3>Add-On Build Predicates<a class="headerlink" href="#add-on-build-predicates" title="Permalink to this headline">¶</a></h3>
<p>The koji plugin commands <code class="docutils literal notranslate"><span class="pre">filter-builds</span></code> and
<code class="docutils literal notranslate"><span class="pre">list-component-builds</span></code>, and the standalone command
<code class="docutils literal notranslate"><span class="pre">ksd-filter-tags</span></code> will attempt to load additional user-defined build
sieves utilizing Python entry_points. This behavior may be disabled by
with the <code class="docutils literal notranslate"><span class="pre">--no-entry-points</span></code> option.</p>
<p>In order to provide additional tag sieves, a Python package must
supply an entry_point to a nullary function which will return a list
of Sieve classes, under the group named
<code class="docutils literal notranslate"><span class="pre">koji_smoky_dingo_build_sieves</span></code></p>
</div>
</div>
<div class="section" id="tag-sieves">
<h2>Tag Sieves<a class="headerlink" href="#tag-sieves" title="Permalink to this headline">¶</a></h2>
<p>To facilitate filtering sequences of koji tag info dicts, there are
a number of available sieves provided in the
<a class="reference internal" href="../kojismokydingo/sift/tags/#module-kojismokydingo.sift.tags" title="kojismokydingo.sift.tags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">kojismokydingo.sift.tags</span></code></a> module.</p>
<p>A sifter instance with these and the core sieves available by default can be
created via <a class="reference internal" href="../kojismokydingo/sift/tags/#kojismokydingo.sift.tags.tag_info_sifter" title="kojismokydingo.sift.tags.tag_info_sifter"><code class="xref py py-func docutils literal notranslate"><span class="pre">kojismokydingo.sift.tags.tag_info_sifter()</span></code></a></p>
<div class="section" id="tag-predicate-arch">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">arch</span></code><a class="headerlink" href="#tag-predicate-arch" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(arch [ARCH...])
</pre></div>
</div>
<p>If no <code class="docutils literal notranslate"><span class="pre">ARCH</span></code> patterns are specified, matches tags which have any
architectures at all.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">ARCH</span></code> patterns are specified, then only matches tags which have
an architecture that matches any of the given patterns.</p>
</div>
<div class="section" id="tag-predicate-build-tag">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">build-tag</span></code><a class="headerlink" href="#tag-predicate-build-tag" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(build-tag [TARGET...])
</pre></div>
</div>
<p>If no <code class="docutils literal notranslate"><span class="pre">TARGET</span></code> is specified, then matches tags which are used as the
build tag for any target.</p>
<p>If any <code class="docutils literal notranslate"><span class="pre">TARGET</span></code> patterns are specified, then matches tags which are
used as the build tag for a target with a name matching any of the
patterns.</p>
</div>
<div class="section" id="tag-predicate-compare-latest">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">compare-latest</span></code><a class="headerlink" href="#tag-predicate-compare-latest" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(compare-latest PACKAGE [OP VERSION])
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">OP</span></code> and <code class="docutils literal notranslate"><span class="pre">VERSION</span></code> are not specified, matches tags which have
any build of the given <code class="docutils literal notranslate"><span class="pre">PACKAGE</span></code> name as latest.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">OP</span></code> and <code class="docutils literal notranslate"><span class="pre">VERSION</span></code> are specified, matches tags which have the a
latest build of the given <code class="docutils literal notranslate"><span class="pre">PACKAGE</span></code> name which compare correctly. If
tag doesn't have any build of the given package, it will not match.</p>
<p><code class="docutils literal notranslate"><span class="pre">OP</span></code> can be any of the following comparison operators: <code class="docutils literal notranslate"><span class="pre">==</span></code>,
<code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">VERSION</span></code> can be in any of the following forms:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">EPOCH:VERSION</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EPOCH:VERSION-RELEASE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VERSION</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VERSION-RELEASE</span></code></p></li>
</ul>
</div></blockquote>
<p>If <code class="docutils literal notranslate"><span class="pre">EPOCH</span></code> is omitted, it is presumed to be <code class="docutils literal notranslate"><span class="pre">0</span></code>.
If <code class="docutils literal notranslate"><span class="pre">RELEASE</span></code> is omitted, it is presumed to be equivalent.</p>
</div>
<div class="section" id="tag-predicate-dest-tag">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">dest-tag</span></code><a class="headerlink" href="#tag-predicate-dest-tag" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(dest-tag [TARGET...])
</pre></div>
</div>
<p>If no <code class="docutils literal notranslate"><span class="pre">TARGET</span></code> is specified, then matches tags which are used as the
destination tag for any target.</p>
<p>If any <code class="docutils literal notranslate"><span class="pre">TARGET</span></code> patterns are specified, then matches tags which are
used as the destination tag for a target with a name matching any of
the patterns.</p>
</div>
<div class="section" id="tag-predicate-exact-arch">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">exact-arch</span></code><a class="headerlink" href="#tag-predicate-exact-arch" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(exact-arch [ARCH...])
</pre></div>
</div>
<p>If no <code class="docutils literal notranslate"><span class="pre">ARCH</span></code> names are specified, matches only tags which have no
architectures.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">ARCH</span></code> names are specified, they must be specified as
symbols. Only matches tags which have the exact same set of
architectures.</p>
</div>
<div class="section" id="tag-predicate-group">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">group</span></code><a class="headerlink" href="#tag-predicate-group" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(group GROUP [GROUP...])
</pre></div>
</div>
<p>Matches tags which have any of the given install groups configured.
Honors inheritance.</p>
</div>
<div class="section" id="tag-predicate-group-pkg">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">group-pkg</span></code><a class="headerlink" href="#tag-predicate-group-pkg" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(group-pkg GROUP PKG [PKG...] [require_all: False])
</pre></div>
</div>
<p>Matches tags which have the given install group, which also contains
any of the given <code class="docutils literal notranslate"><span class="pre">PKG</span></code> names.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">require_all</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> then all of the given <code class="docutils literal notranslate"><span class="pre">PKG</span></code>
names must be present in order for a tag to match.</p>
</div>
<div class="section" id="tag-predicate-has-ancestor">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">has-ancestor</span></code><a class="headerlink" href="#tag-predicate-has-ancestor" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(has-ancestor [TAG...])
(inherits-from [TAG...])
</pre></div>
</div>
<p>If no <code class="docutils literal notranslate"><span class="pre">TAG</span></code> patterns are specified, matches tags which have any
parents.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">TAG</span></code> patterns are specified, matches tags which have a parent at
any depth matching any of the given patterns.</p>
</div>
<div class="section" id="tag-predicate-has-child">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">has-child</span></code><a class="headerlink" href="#tag-predicate-has-child" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(has-child [TAG...])
(parent-of [TAG...])
</pre></div>
</div>
<p>If no <code class="docutils literal notranslate"><span class="pre">TAG</span></code> patterns are specified, matches tags which are the
direct parent to any other tag.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">TAG</span></code> patterns are specified, matches tags which are the direct
parent to any tag matching any of the given patterns.</p>
</div>
<div class="section" id="tag-predicate-has-descendant">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">has-descendant</span></code><a class="headerlink" href="#tag-predicate-has-descendant" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(has-descendant [TAG...])
(inherited-by [TAG...])
</pre></div>
</div>
<p>If no <code class="docutils literal notranslate"><span class="pre">TAG</span></code> patterns are specified, matches tags which are inherited
by any other tag.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">TAG</span></code> patterns are specified, matches tags which are inherited by
any tag matching any of the patterns, at any depth.</p>
</div>
<div class="section" id="tag-predicate-has-parent">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">has-parent</span></code><a class="headerlink" href="#tag-predicate-has-parent" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(has-parent [TAG...])
(child-of [TAG...])
</pre></div>
</div>
<p>If no <code class="docutils literal notranslate"><span class="pre">TAG</span></code> patterns are specified, matches tags which have any
parents.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">TAG</span></code> patterns are specified, matchs tags which have any direct
parent matching any of the given patterns.</p>
</div>
<div class="section" id="tag-predicate-locked">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">locked</span></code><a class="headerlink" href="#tag-predicate-locked" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(locked)
</pre></div>
</div>
<p>Matches tags which have been locked.</p>
</div>
<div class="section" id="tag-predicate-name">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">name</span></code><a class="headerlink" href="#tag-predicate-name" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(name NAME [NAME...])
</pre></div>
</div>
<p>Matches tags which have a name that matches any of the given <code class="docutils literal notranslate"><span class="pre">NAME</span></code>
patterns.</p>
</div>
<div class="section" id="tag-predicate-permission">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">permission</span></code><a class="headerlink" href="#tag-predicate-permission" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(permission [PERM...])
</pre></div>
</div>
<p>If no <code class="docutils literal notranslate"><span class="pre">PERM</span></code> is specified, then matches tags which have any
permission set.</p>
<p>If any <code class="docutils literal notranslate"><span class="pre">PERM</span></code> patters are specified, then matches tags which have
any of the listed permissions set.</p>
</div>
<div class="section" id="tag-predicate-pkg-allowed">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">pkg-allowed</span></code><a class="headerlink" href="#tag-predicate-pkg-allowed" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pkg-allowed PKG [PKG...])
</pre></div>
</div>
<p>Matches tags which have a package listing with any of the given
<code class="docutils literal notranslate"><span class="pre">PKG</span></code> contained therein and not blocked, honoring inheritance.</p>
</div>
<div class="section" id="tag-predicate-pkg-blocked">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">pkg-blocked</span></code><a class="headerlink" href="#tag-predicate-pkg-blocked" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pkg-blocked PKG [PKG...])
</pre></div>
</div>
<p>Matches tags which have a package listing with any of the given
<code class="docutils literal notranslate"><span class="pre">PKG</span></code> contained therein and blocked, honoring inheritance.</p>
</div>
<div class="section" id="tag-predicate-pkg-unlisted">
<h3>Tag Predicate <code class="docutils literal notranslate"><span class="pre">pkg-unlisted</span></code><a class="headerlink" href="#tag-predicate-pkg-unlisted" title="Permalink to this headline">¶</a></h3>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(pkg-unlisted PKG [PKG...])
</pre></div>
</div>
<p>Matches tags which have no package listing (neither allowed nor
blocked) for any of the given <code class="docutils literal notranslate"><span class="pre">PKG</span></code> names. Honors inheritance.</p>
</div>
<div class="section" id="add-on-tag-predicates">
<h3>Add-On Tag Predicates<a class="headerlink" href="#add-on-tag-predicates" title="Permalink to this headline">¶</a></h3>
<p>The koji plugin command <code class="docutils literal notranslate"><span class="pre">filter-tags</span></code> and the standalone command
<code class="docutils literal notranslate"><span class="pre">ksd-filter-tags</span></code> will attempt to load additional user-defined tag
sieves utilizing Python entry_points. This behavior may be disabled by
with the <code class="docutils literal notranslate"><span class="pre">--no-entry-points</span></code> option.</p>
<p>In order to provide additional tag sieves, a Python package must
supply an entry_point to a nullary function which will return a list
of Sieve classes, under the group named
<code class="docutils literal notranslate"><span class="pre">koji_smoky_dingo_tag_sieves</span></code></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Sifty Dingo Filtering Language</a><ul>
<li><a class="reference internal" href="#language-example">Language Example</a></li>
<li><a class="reference internal" href="#basic-syntax">Basic Syntax</a><ul>
<li><a class="reference internal" href="#sieve-predicate">Sieve Predicate</a></li>
<li><a class="reference internal" href="#symbol">Symbol</a></li>
<li><a class="reference internal" href="#number">Number</a></li>
<li><a class="reference internal" href="#symbol-group">Symbol Group</a></li>
<li><a class="reference internal" href="#string">String</a></li>
<li><a class="reference internal" href="#regex">Regex</a></li>
<li><a class="reference internal" href="#glob">Glob</a></li>
<li><a class="reference internal" href="#item-path">Item Path</a></li>
</ul>
</li>
<li><a class="reference internal" href="#core-sieves">Core Sieves</a><ul>
<li><a class="reference internal" href="#statement-flag">Statement <code class="docutils literal notranslate"><span class="pre">flag</span></code></a></li>
<li><a class="reference internal" href="#logical-and">Logical <code class="docutils literal notranslate"><span class="pre">and</span></code></a></li>
<li><a class="reference internal" href="#logical-or">Logical <code class="docutils literal notranslate"><span class="pre">or</span></code></a></li>
<li><a class="reference internal" href="#logical-not">Logical <code class="docutils literal notranslate"><span class="pre">not</span></code></a></li>
<li><a class="reference internal" href="#predicate-flagged">Predicate <code class="docutils literal notranslate"><span class="pre">flagged</span></code></a></li>
<li><a class="reference internal" href="#predicate-item">Predicate <code class="docutils literal notranslate"><span class="pre">item</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#build-sieves">Build Sieves</a><ul>
<li><a class="reference internal" href="#build-evr-comparison-predicates">Build EVR Comparison Predicates</a></li>
<li><a class="reference internal" href="#build-predicate-cg-imported">Build Predicate <code class="docutils literal notranslate"><span class="pre">cg-imported</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-compare-latest-id">Build Predicate <code class="docutils literal notranslate"><span class="pre">compare-latest-id</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-compare-latest-nvr">Build Predicate <code class="docutils literal notranslate"><span class="pre">compare-latest-nvr</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-epoch">Build Predicate <code class="docutils literal notranslate"><span class="pre">epoch</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-imported">Build Predicate <code class="docutils literal notranslate"><span class="pre">imported</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-inherited">Build Predicate <code class="docutils literal notranslate"><span class="pre">inherited</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-latest">Build Predicate <code class="docutils literal notranslate"><span class="pre">latest</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-latest-maven">Build Predicate <code class="docutils literal notranslate"><span class="pre">latest-maven</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-name">Build Predicate <code class="docutils literal notranslate"><span class="pre">name</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-nvr">Build Predicate <code class="docutils literal notranslate"><span class="pre">nvr</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-owner">Build Predicate <code class="docutils literal notranslate"><span class="pre">owner</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-pkg-allowed">Build Predicate <code class="docutils literal notranslate"><span class="pre">pkg-allowed</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-pkg-blocked">Build Predicate <code class="docutils literal notranslate"><span class="pre">pkg-blocked</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-pkg-unlisted">Build Predicate <code class="docutils literal notranslate"><span class="pre">pkg-unlisted</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-release">Build Predicate <code class="docutils literal notranslate"><span class="pre">release</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-signed">Build Predicate <code class="docutils literal notranslate"><span class="pre">signed</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-state">Build Predicate <code class="docutils literal notranslate"><span class="pre">state</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-tagged">Build Predicate <code class="docutils literal notranslate"><span class="pre">tagged</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-type">Build Predicate <code class="docutils literal notranslate"><span class="pre">type</span></code></a></li>
<li><a class="reference internal" href="#build-predicate-version">Build Predicate <code class="docutils literal notranslate"><span class="pre">version</span></code></a></li>
<li><a class="reference internal" href="#add-on-build-predicates">Add-On Build Predicates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tag-sieves">Tag Sieves</a><ul>
<li><a class="reference internal" href="#tag-predicate-arch">Tag Predicate <code class="docutils literal notranslate"><span class="pre">arch</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-build-tag">Tag Predicate <code class="docutils literal notranslate"><span class="pre">build-tag</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-compare-latest">Tag Predicate <code class="docutils literal notranslate"><span class="pre">compare-latest</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-dest-tag">Tag Predicate <code class="docutils literal notranslate"><span class="pre">dest-tag</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-exact-arch">Tag Predicate <code class="docutils literal notranslate"><span class="pre">exact-arch</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-group">Tag Predicate <code class="docutils literal notranslate"><span class="pre">group</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-group-pkg">Tag Predicate <code class="docutils literal notranslate"><span class="pre">group-pkg</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-has-ancestor">Tag Predicate <code class="docutils literal notranslate"><span class="pre">has-ancestor</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-has-child">Tag Predicate <code class="docutils literal notranslate"><span class="pre">has-child</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-has-descendant">Tag Predicate <code class="docutils literal notranslate"><span class="pre">has-descendant</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-has-parent">Tag Predicate <code class="docutils literal notranslate"><span class="pre">has-parent</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-locked">Tag Predicate <code class="docutils literal notranslate"><span class="pre">locked</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-name">Tag Predicate <code class="docutils literal notranslate"><span class="pre">name</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-permission">Tag Predicate <code class="docutils literal notranslate"><span class="pre">permission</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-pkg-allowed">Tag Predicate <code class="docutils literal notranslate"><span class="pre">pkg-allowed</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-pkg-blocked">Tag Predicate <code class="docutils literal notranslate"><span class="pre">pkg-blocked</span></code></a></li>
<li><a class="reference internal" href="#tag-predicate-pkg-unlisted">Tag Predicate <code class="docutils literal notranslate"><span class="pre">pkg-unlisted</span></code></a></li>
<li><a class="reference internal" href="#add-on-tag-predicates">Add-On Tag Predicates</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../standalone/ksd-filter-tags/"
                        title="previous chapter">ksd-filter-tags</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../kojismokydingo/"
                        title="next chapter">Core API Reference</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/siftylang.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../kojismokydingo/" title="Core API Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="../standalone/ksd-filter-tags/" title="ksd-filter-tags"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../">kojismokydingo 1.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020-2021, Christopher O&#39;Brien.
      Last updated on 2021-04-01.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.2.
    </div>
  </body>
</html>